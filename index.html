<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ระบบสั่งอาหาร โรงเรียนตะพานหิน</title>

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#f2f2f2;
}
.container{
  max-width:420px;
  width:92%;
  margin:40px auto;
  background:#fff;
  padding:16px;
  border-radius:12px;
  box-shadow:0 4px 16px rgba(0,0,0,.2);
}
h2,h3{text-align:center;margin:10px 0}
button{
  width:100%;
  padding:12px;
  margin:8px 0;
  border:none;
  border-radius:8px;
  background:#2b7cff;
  color:#fff;
  font-size:16px;
  cursor:pointer;
}
input,select{
  width:100%;
  padding:10px;
  margin:6px 0;
  border-radius:6px;
  border:1px solid #ccc;
}
.hidden{display:none}
.menu{
  border:1px solid #ddd;
  border-radius:8px;
  padding:6px;
  margin-bottom:10px;
  text-align:center;
}
</style>
</head>

<body>

<!-- หน้าแรก -->
<div class="container" id="home">
  <h2>สั่งอาหารโรงเรียนตะพานหิน</h2>
  <button onclick="showPage('login')">เข้าสู่ระบบ</button>
  <button onclick="showPage('register')">สมัครสมาชิก</button>
</div>

<!-- เข้าสู่ระบบ -->
<div class="container hidden" id="login">
  <h3>เข้าสู่ระบบ</h3>
  <select id="loginRole">
    <option value="student">นักเรียน</option>
    <option value="seller">คนขาย</option>
  </select>
  <input id="loginUser" placeholder="ชื่อผู้ใช้ (อย่างน้อย 10 ตัวอักษร)">
  <input id="loginPass" type="password" placeholder="รหัสผ่าน (อย่างน้อย 10 ตัวอักษร)">
  <button onclick="login()">เข้าสู่ระบบ</button>
  <button onclick="showPage('home')">กลับ</button>
</div>

<!-- สมัครสมาชิก -->
<div class="container hidden" id="register">
  <h3>สมัครสมาชิก</h3>
  <select id="regRole">
    <option value="student">นักเรียน</option>
    <option value="seller">คนขาย</option>
  </select>
  <input id="regUser" placeholder="ชื่อผู้ใช้ (อย่างน้อย 10 ตัวอักษร)">
  <input id="regPass" type="password" placeholder="รหัสผ่าน (อย่างน้อย 10 ตัวอักษร)">
  <button onclick="register()">สมัคร</button>
  <button onclick="showPage('home')">กลับ</button>
</div>

<!-- ร้านอาหาร -->
<div class="container hidden" id="shop">
  <h3 id="shopTitle">ร้านอาหาร</h3>
  <p id="studentMsg" style="text-align:center;color:#666">
    ยังไม่มีเมนูอาหาร
  </p>

  <div id="sellerPanel" class="hidden">
    <input id="shopName" placeholder="ชื่อร้านอาหาร">
    <button onclick="createShop()">สร้างร้าน</button>
  </div>

  <button onclick="showPage('home')">ออกจากระบบ</button>
</div>

<script>
let role = "";

/* เปลี่ยนหน้า */
function showPage(id){
  document.querySelectorAll('.container')
    .forEach(d => d.classList.add('hidden'));
  document.getElementById(id).classList.remove('hidden');
}

/* ตรวจสอบความถูกต้อง */
function validate(user, pass){
  if(!user || !pass){
    alert("❌ ต้องกรอกชื่อผู้ใช้และรหัสผ่าน");
    return false;
  }
  if(user.length < 10){
    alert("❌ ชื่อผู้ใช้ต้องมีอย่างน้อย 10 ตัวอักษร");
    return false;
  }
  if(pass.length < 10){
    alert("❌ รหัสผ่านต้องมีอย่างน้อย 10 ตัวอักษร");
    return false;
  }
  return true;
}

/* สมัครสมาชิก */
function register(){
  const user = document.getElementById("regUser").value.trim();
  const pass = document.getElementById("regPass").value.trim();

  if(!validate(user, pass)) return;

  alert("✅ สมัครสมาชิกสำเร็จ");
  showPage("login");
}

/* เข้าสู่ระบบ */
function login(){
  const user = document.getElementById("loginUser").value.trim();
  const pass = document.getElementById("loginPass").value.trim();

  if(!validate(user, pass)) return;

  role = document.getElementById("loginRole").value;
  showPage("shop");

  if(role === "seller"){
    document.getElementById("sellerPanel").classList.remove("hidden");
    document.getElementById("studentMsg").style.display = "none";
  }
}

/* สร้างร้าน */
function createShop(){
  const name = document.getElementById("shopName").value.trim();
  if(!name){
    alert("กรุณากรอกชื่อร้าน");
    return;
  }
  document.getElementById("shopTitle").textContent = name;
}
</script>

</body>
</html>
